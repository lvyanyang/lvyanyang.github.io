(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{379:function(s,t,a){"use strict";a.r(t);var e=a(25),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"接口加密解密"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#接口加密解密"}},[s._v("#")]),s._v(" 接口加密解密")]),s._v(" "),a("p",[s._v("为了保障接口安全，可能会对一些接口的请求参数解密和返回结果进行加密，目前只能实现对"),a("code",[s._v("json")]),s._v("请求参数和"),a("code",[s._v("json")]),s._v("返回结果的解密和加密，框架也进行了简单封装。")]),s._v(" "),a("ul",[a("li",[s._v("接口请求参数的解密，通过参数来控制是否启用，可单独启用，只有标记 "),a("code",[s._v("@RequestBody")]),s._v(" 的请求参数有效，其他无效。")]),s._v(" "),a("li",[s._v("接口返回结果的加密，通过参数来控制是否启用，可单独启用，只有标记 "),a("code",[s._v("@ResponseBody")]),s._v(" 或者类上标记"),a("code",[s._v("@RestController")]),s._v(" 的返回结果有效，其他无效。")])]),s._v(" "),a("h2",{attrs:{id:"接口参数解密"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#接口参数解密"}},[s._v("#")]),s._v(" 接口参数解密")]),s._v(" "),a("ol",[a("li",[s._v("在配置文件中设置"),a("code",[s._v("xci.core.enabled-request-body-decrypt=true")]),s._v("来开启请求参数解密功能，要求客户端请求时，把请求的内容使用加密函数处理后再发送给服务端。")]),s._v(" "),a("li",[s._v("在 "),a("code",[s._v("Controller")]),s._v(" 类上使用注解 "),a("code",[s._v("@DecryptRequest")]),s._v("，开启请求参数解密功能，"),a("code",[s._v("Controller")]),s._v(" 下的所有方法都会启用。也可以在单个方法上使用注解 "),a("code",[s._v("@DecryptRequest")]),s._v("，只对单个方法有效。")])]),s._v(" "),a("h2",{attrs:{id:"接口响应加密"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#接口响应加密"}},[s._v("#")]),s._v(" 接口响应加密")]),s._v(" "),a("ol",[a("li",[s._v("在配置文件中设置"),a("code",[s._v("xci.core.enabled-response-body-encrypt=true")]),s._v("来开启返回结果加密功能，客户端在收到返回结果后，需要先解密再反序列化。")]),s._v(" "),a("li",[s._v("在 "),a("code",[s._v("Controller")]),s._v(" 类上使用注解 "),a("code",[s._v("@EncryptResponse")]),s._v("，开启返回结果加密功能，"),a("code",[s._v("Controller")]),s._v(" 下的所有方法都会启用。也可以在单个方法上使用注解 "),a("code",[s._v("@EncryptResponse")]),s._v("，只对单个方法有效。")])]),s._v(" "),a("h2",{attrs:{id:"加解密实现-可选"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#加解密实现-可选"}},[s._v("#")]),s._v(" 加解密实现(可选)")]),s._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[s._v("Java/C#加解密实现")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//Java加密实现")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" cipherText "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" XCI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("encrypt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123456"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//C#加密实现")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" cipherText "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EncryptHelper")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AESEncrypt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123456"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//Java解密实现")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" plainText "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" XCI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("decrypt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vi3RadQIsPxK7fthPHvilA=="')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//C#解密实现")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" plainText "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EncryptHelper")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AESDecrypt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vi3RadQIsPxK7fthPHvilA=="')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);